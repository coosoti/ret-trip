{% extends 'base.html' %}
{% load bootstrap4 %}


{% block head %}
<style>
    #pills-tab a{
        color: black;
    }

    #pills-tab a:hover {
        color: orange;
        text-decoration: none;
    }

    #pills-tab a.active {
        color: orange;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    Task Details
                </div>
                <div class="card-body">
                    {% if not task %}
                    <p>No details</p>
                    {% else %}
                    <h5>{{ task.name }}</h5>
                    <span>{{ task.quantity }} item(s)</span><br /> 
                    <span>{{ task.get_size_display }} task</span>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <div class="col-lg-8">
            <div class="card mb-5">
                <div class="card-body">

                    <ul class="nav nav-pills nav-justified align-items-center mb-3" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                          <a class="{% if step == 1 %}active{% endif %}" id="pills-info-tab" data-toggle="pill" href="#pills-info" role="tab" aria-controls="pills-info" aria-selected="true">Task Info</a>
                        </li>
                        <i class="fas fa-chevron-right"></i>
                        <li class="nav-item" role="presentation">
                          <a class="{% if step == 2 %}active{% endif %}" id="pills-pickup-tab" data-toggle="pill" href="#pills-pickup" role="tab" aria-controls="pills-pickup" aria-selected="false">Pickup</a>
                        </li>
                        <i class="fas fa-chevron-right"></i>
                        <li class="nav-item" role="presentation">
                          <a class="{% if step == 3 %}active{% endif %}" id="pills-delivery-tab" data-toggle="pill" href="#pills-delivery" role="tab" aria-controls="pills-delivery" aria-selected="false">Delivery</a>
                        </li>
                        <i class="fas fa-chevron-right"></i>
                        <li class="nav-item" role="presentation">
                            <a class="{% if step == 4 %}active{% endif %}" id="pills-payment-tab" data-toggle="pill" href="#pills-payment" role="tab" aria-controls="pills-payment" aria-selected="false">Payment</a>
                          </li>
                    </ul>

                </div>
            </div>

            <b>Create A Task</b>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade {% if step == 1 %}show active{% endif %}" id="pills-info" role="tabpanel" aria-labelledby="pills-info-tab">
                    <form method="POST" enctype="multipart/form-data">
                        <b class="text-secondary">Package Information</b><br />
                        <div class="card bg-white mt-2 mb-5">
                            <div class="card-body">
                                {% csrf_token %}
                                {% bootstrap_form packageInfo_form %}
                            </div>
                        </div>
                        <input type="hidden" name="step" value="1">
                        <button type="submit" class="btn btn-primary">Save & Continue</button>
                    </form>
                </div>

                <div class="tab-pane fade {% if step == 2 %}show active{% endif %}" id="pills-pickup" role="tabpanel" aria-labelledby="pills-pickup-tab">
                    <form method="POST" enctype="multipart/form-data">
                        <b class="text-secondary">Pickup Details</b>
                        <div class="card bg-white mt-2 mb-5">
                            <div class="card-body">
                                {% csrf_token %}
                                {% bootstrap_form packagePickup_form %}
                            </div>
                        </div>
                        <input type="hidden" name="step" value="2">
                        <button type="button" class="btn btn-outline-primary"
                            onclick="$('#pills-info-tab').tab('show');">Back</button>
                        <button type="submit" class="btn btn-primary">Save & Continue</button>
                    </form>
                </div>

                <div class="tab-pane fade {% if step == 3 %}show active{% endif %}" id="pills-delivery" role="tabpanel" aria-labelledby="pills-delivery-tab">
                    <h2>Delivery</h2>
                </div>

                <div class="tab-pane fade {% if step == 4 %}show active{% endif %}" id="pills-payment" role="tabpanel" aria-labelledby="pills-payment-tab">
                    <h2>Payment</h2>
                </div>
              </div>

        </div>
    </div>
</div>

{% endblock %}